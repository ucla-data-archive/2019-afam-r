<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>AFAM 188: R 4 Mapping in R | African American Studies 188: Intro to R &amp; Mapping in R</title>
  <meta name="description" content="This is ." />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="AFAM 188: R 4 Mapping in R | African American Studies 188: Intro to R &amp; Mapping in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is ." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="AFAM 188: R 4 Mapping in R | African American Studies 188: Intro to R &amp; Mapping in R" />
  
  <meta name="twitter:description" content="This is ." />
  

<meta name="author" content="Tim Dennis" />


<meta name="date" content="2019-11-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-assignment-1.html"/>
<link rel="next" href="mapping-with-r-continued.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">AFAM 188</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2</b> Getting Started with Data in R</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html#learn-objectives"><i class="fa fa-check"></i><b>2.1</b> Learn Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="getting-started.html"><a href="getting-started.html#r-RStudio"><i class="fa fa-check"></i><b>2.2</b> What are R and RStudio?</a><ul>
<li class="chapter" data-level="2.2.1" data-path="getting-started.html"><a href="getting-started.html#using-r-via-rstudio"><i class="fa fa-check"></i><b>2.2.1</b> Using R via RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="getting-started.html"><a href="getting-started.html#code"><i class="fa fa-check"></i><b>2.3</b> How do I code in R?</a><ul>
<li class="chapter" data-level="2.3.1" data-path="getting-started.html"><a href="getting-started.html#programming-concepts"><i class="fa fa-check"></i><b>2.3.1</b> Basic programming concepts and terminology</a></li>
<li class="chapter" data-level="2.3.2" data-path="getting-started.html"><a href="getting-started.html#messages"><i class="fa fa-check"></i><b>2.3.2</b> Errors, warnings, and messages</a></li>
<li class="chapter" data-level="2.3.3" data-path="getting-started.html"><a href="getting-started.html#tips-code"><i class="fa fa-check"></i><b>2.3.3</b> Tips on learning to code</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="getting-started.html"><a href="getting-started.html#how-to-run-codeyour-first-script"><i class="fa fa-check"></i><b>2.4</b> How to run code/your first script</a><ul>
<li class="chapter" data-level="2.4.1" data-path="getting-started.html"><a href="getting-started.html#lets-start-coding-in-r"><i class="fa fa-check"></i><b>2.4.1</b> Let’s start coding in R</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="getting-started.html"><a href="getting-started.html#arrests"><i class="fa fa-check"></i><b>2.5</b> Explore your first dataset</a></li>
<li class="chapter" data-level="2.6" data-path="getting-started.html"><a href="getting-started.html#what-are-packages"><i class="fa fa-check"></i><b>2.6</b> What are Packages</a></li>
<li class="chapter" data-level="2.7" data-path="getting-started.html"><a href="getting-started.html#reading-data-into-r"><i class="fa fa-check"></i><b>2.7</b> Reading data into R</a><ul>
<li class="chapter" data-level="2.7.1" data-path="getting-started.html"><a href="getting-started.html#reading-and-saving-data-in-r"><i class="fa fa-check"></i><b>2.7.1</b> Reading and Saving Data in R</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="getting-started.html"><a href="getting-started.html#what-to-do-first-after-you-read-in-your-data"><i class="fa fa-check"></i><b>2.8</b> What to do first after you read in your data?</a><ul>
<li class="chapter" data-level="2.8.1" data-path="getting-started.html"><a href="getting-started.html#ways-to-get-an-overview-of-your-data"><i class="fa fa-check"></i><b>2.8.1</b> Ways to get an overview of your data</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="getting-started.html"><a href="getting-started.html#looking-at-specific-variables"><i class="fa fa-check"></i><b>2.9</b> Looking at specific variables</a><ul>
<li class="chapter" data-level="2.9.1" data-path="getting-started.html"><a href="getting-started.html#variable-distribution"><i class="fa fa-check"></i><b>2.9.1</b> Variable distribution</a></li>
<li class="chapter" data-level="2.9.2" data-path="getting-started.html"><a href="getting-started.html#two-variables"><i class="fa fa-check"></i><b>2.9.2</b> Two variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-assignment-1.html"><a href="r-assignment-1.html"><i class="fa fa-check"></i><b>3</b> R Assignment 1</a><ul>
<li class="chapter" data-level="3.0.1" data-path="r-assignment-1.html"><a href="r-assignment-1.html#instructions"><i class="fa fa-check"></i><b>3.0.1</b> Instructions</a></li>
<li class="chapter" data-level="3.0.2" data-path="r-assignment-1.html"><a href="r-assignment-1.html#running-r-code"><i class="fa fa-check"></i><b>3.0.2</b> 1. Running R code</a></li>
<li class="chapter" data-level="3.0.3" data-path="r-assignment-1.html"><a href="r-assignment-1.html#loading-the-installed-package-tidyverse."><i class="fa fa-check"></i><b>3.0.3</b> 2. Loading the installed package <code>tidyverse</code>.</a></li>
<li class="chapter" data-level="3.0.4" data-path="r-assignment-1.html"><a href="r-assignment-1.html#getting-help-in-r"><i class="fa fa-check"></i><b>3.0.4</b> 3. Getting help in R</a></li>
<li class="chapter" data-level="3.0.5" data-path="r-assignment-1.html"><a href="r-assignment-1.html#reading-in-a-csv-into-r"><i class="fa fa-check"></i><b>3.0.5</b> 4. Reading in a <code>csv</code> into R</a></li>
<li class="chapter" data-level="3.0.6" data-path="r-assignment-1.html"><a href="r-assignment-1.html#inspecting-a-data-frame-in-r"><i class="fa fa-check"></i><b>3.0.6</b> 5. Inspecting a data frame in R</a></li>
<li class="chapter" data-level="3.0.7" data-path="r-assignment-1.html"><a href="r-assignment-1.html#performing-summary-against-our-data-frame."><i class="fa fa-check"></i><b>3.0.7</b> 6. Performing <code>summary()</code> against our data frame.</a></li>
<li class="chapter" data-level="3.0.8" data-path="r-assignment-1.html"><a href="r-assignment-1.html#creating-a-web-report-on-your-data-using-create_report"><i class="fa fa-check"></i><b>3.0.8</b> 7. Creating a web report on your data using <code>create_report()</code></a></li>
<li class="chapter" data-level="3.0.9" data-path="r-assignment-1.html"><a href="r-assignment-1.html#creating-plots-with-ggplot2"><i class="fa fa-check"></i><b>3.0.9</b> 8 Creating plots with <code>ggplot2</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="mapping-in-r.html"><a href="mapping-in-r.html"><i class="fa fa-check"></i><b>4</b> Mapping in R</a><ul>
<li class="chapter" data-level="4.1" data-path="mapping-in-r.html"><a href="mapping-in-r.html#ggplot-map"><i class="fa fa-check"></i><b>4.1</b> GGPLOT map</a></li>
<li class="chapter" data-level="4.2" data-path="mapping-in-r.html"><a href="mapping-in-r.html#mapping-in-r-1"><i class="fa fa-check"></i><b>4.2</b> Mapping in R</a></li>
<li class="chapter" data-level="4.3" data-path="mapping-in-r.html"><a href="mapping-in-r.html#converting-data-to-a-spatial-object"><i class="fa fa-check"></i><b>4.3</b> Converting data to a spatial object</a></li>
<li class="chapter" data-level="4.4" data-path="mapping-in-r.html"><a href="mapping-in-r.html#reading-in-shapefiles"><i class="fa fa-check"></i><b>4.4</b> Reading in shapefiles</a></li>
<li class="chapter" data-level="4.5" data-path="mapping-in-r.html"><a href="mapping-in-r.html#aesthetics"><i class="fa fa-check"></i><b>4.5</b> Aesthetics</a></li>
<li class="chapter" data-level="4.6" data-path="mapping-in-r.html"><a href="mapping-in-r.html#saving-map-objects"><i class="fa fa-check"></i><b>4.6</b> Saving map objects</a></li>
<li class="chapter" data-level="4.7" data-path="mapping-in-r.html"><a href="mapping-in-r.html#interactive-maps"><i class="fa fa-check"></i><b>4.7</b> Interactive Maps</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="mapping-with-r-continued.html"><a href="mapping-with-r-continued.html"><i class="fa fa-check"></i><b>5</b> Mapping with R Continued</a><ul>
<li class="chapter" data-level="5.1" data-path="mapping-with-r-continued.html"><a href="mapping-with-r-continued.html#revisit-last-week"><i class="fa fa-check"></i><b>5.1</b> Revisit last week</a></li>
<li class="chapter" data-level="5.2" data-path="mapping-with-r-continued.html"><a href="mapping-with-r-continued.html#saving-map-objects-1"><i class="fa fa-check"></i><b>5.2</b> Saving map objects</a></li>
<li class="chapter" data-level="5.3" data-path="mapping-with-r-continued.html"><a href="mapping-with-r-continued.html#faceted-maps-small-multiples"><i class="fa fa-check"></i><b>5.3</b> Faceted Maps (small multiples)</a></li>
<li class="chapter" data-level="5.4" data-path="mapping-with-r-continued.html"><a href="mapping-with-r-continued.html#interactive-maps-1"><i class="fa fa-check"></i><b>5.4</b> Interactive Maps</a></li>
<li class="chapter" data-level="5.5" data-path="mapping-with-r-continued.html"><a href="mapping-with-r-continued.html#publishing-the-map-using-rpubs"><i class="fa fa-check"></i><b>5.5</b> Publishing the map using rpubs</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
<li><a href="https://pad.carpentries.org/2019-afam188" target="blank">Class Etherpad</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">African American Studies 188: Intro to R &amp; Mapping in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mapping-in-r" class="section level1">
<h1><span class="header-section-number">AFAM 188: R 4</span> Mapping in R</h1>
<p>Two weeks ago we covered how to work with data in R and produce some plots. Today we will learn how to do mapping in R. Let’s start by using ggplot2 to plot our arrest data by longitude and latitude.</p>
<div id="ggplot-map" class="section level2">
<h2><span class="header-section-number">4.1</span> GGPLOT map</h2>
<p>How about we make a map with GGPLOT? We do this by using our longitude and latitude variables as our x and y mapping.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="mapping-in-r.html#cb53-1"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb53-2"><a href="mapping-in-r.html#cb53-2"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb53-3"><a href="mapping-in-r.html#cb53-3"></a>arrests &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&#39;data/aug6_12_arrest_data.csv&#39;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   latitude = col_double(),
##   longitude = col_double(),
##   zipcode = col_double(),
##   arr_date2 = col_date(format = &quot;&quot;),
##   arrest_time = col_time(format = &quot;&quot;),
##   age = col_double(),
##   sex = col_character(),
##   race_cat = col_character(),
##   arrest_type = col_character(),
##   charge = col_character()
## )</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="mapping-in-r.html#cb55-1"></a><span class="kw">ggplot</span>(arrests, <span class="kw">aes</span>(<span class="dt">x=</span>longitude, <span class="dt">y=</span>latitude)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/ggplot-map-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>We can see the general shape of LA county, but there are limits to what you can do with geospatial data in ggplot. It doesn’t know what to do with the latitude and longitude beyond adding the points to a plot. It has no sense of the layers we used in QGIS. But other R packages designed for gis &amp; mapping give us these capabilities.</p>
</div>
<div id="mapping-in-r-1" class="section level2">
<h2><span class="header-section-number">4.2</span> Mapping in R</h2>
<p>We need a way to tell arrests that it is a spatial object in R. To do that we need to use a spatial package called <code>sf</code> to do so. Let’s load it.</p>
<p>How do we load packages in R?</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="mapping-in-r.html#cb56-1"></a><span class="kw">library</span>(sf)</span></code></pre></div>
<pre><code>## Linking to GEOS 3.7.2, GDAL 2.4.2, PROJ 5.2.0</code></pre>
</div>
<div id="converting-data-to-a-spatial-object" class="section level2">
<h2><span class="header-section-number">4.3</span> Converting data to a spatial object</h2>
<p><code>sf</code> stands for <strong>simple features</strong> and is based on a standard that specifies how to store and work with 2d geometries, points, lines, polygons, etc..</p>
<p>Ok, first up, let’s convert our <code>arrests</code> data to a simple feature object, so it knows it contains spatial information. We need to do this b/c <code>tmap</code> will need this information so we map it. To store this object, I’ll create a new data frame called <code>arrests_sf</code> and use the <code>st_as_sf()</code> that lets us convert our data frame to a <code>sf</code> object using the latitude and longitude. Let’s look up this funtion in the R help system first.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="mapping-in-r.html#cb58-1"></a>?st_as_sf</span></code></pre></div>
<p>Many of these conversion functions in the sf package start with <code>st</code> - this is because PostGis, a heavily used GIS database uses <code>ST</code> (spatial type) for many of its functions.</p>
<p>Ok, let’s now convert our arrests data to a <code>sf</code> object.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="mapping-in-r.html#cb59-1"></a>arrests_sf &lt;-<span class="st"> </span><span class="kw">st_as_sf</span>(arrests, <span class="dt">coords =</span> <span class="kw">c</span>(<span class="st">&quot;longitude&quot;</span>, <span class="st">&quot;latitude&quot;</span>), <span class="dt">crs =</span> <span class="dv">4326</span>)</span></code></pre></div>
<p>Notice a couple of things you haven’t seen before. We have a <code>coords</code> argument that we use a <code>c()</code> function to <strong>combine</strong> our <code>latitude</code> and <code>longitude</code> columns. We also tell the function what <strong>Cordinate Refernce System</strong> be are using <code>4326</code> is a common one.</p>
<p>Let’s look at this new spatial data frame:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="mapping-in-r.html#cb60-1"></a><span class="kw">View</span>(arrests_sf)</span></code></pre></div>
<p>We now have a column called <code>geometry</code> at the end of our data frame. This contains our latitude and longitude.</p>
<p>One thing nice is that we can use the <code>plot()</code> function that is part of <code>sf</code> package to plot our spatial data frame as it is.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="mapping-in-r.html#cb61-1"></a><span class="kw">plot</span>(arrests_sf)</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/plot-sf-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>But the problem is that we still have no context for our points. We need the layers of polygons we had in QGIS to let us know this is LA. Let’s look at this in a package called <code>tmaps</code> (thematic maps).</p>
<p>What do we need to do before we use a package in R?</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="mapping-in-r.html#cb62-1"></a><span class="kw">library</span>(tmap)</span></code></pre></div>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="mapping-in-r.html#cb63-1"></a><span class="kw">tmap_mode</span>(<span class="st">&#39;plot&#39;</span>)</span></code></pre></div>
<pre><code>## tmap mode set to plotting</code></pre>
<p><code>tmap</code> let’s us plot maps like <code>ggplot</code> above – we’ll learn to add different layers to the map, this will be a code way of doing what we did in QGIS.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="mapping-in-r.html#cb65-1"></a><span class="kw">tm_shape</span>(arrests_sf) <span class="op">+</span><span class="st"> </span><span class="kw">tm_dots</span>()</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/unnamed-chunk-15-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
</div>
<div id="reading-in-shapefiles" class="section level2">
<h2><span class="header-section-number">4.4</span> Reading in shapefiles</h2>
<p>Nice, but again, we lack geographic boundaries and other shapes. Just like in QGIS, however, we can read in various shapefiles – the ones ending in <code>.shp</code> – to provide our map some boundaries. We do this by using the function <code>st_read</code>. Let’s look at our help documentation on <code>st_read</code>.</p>
<p>Inside our <code>data/</code> folder we have the shape files we used in our <code>QGIS</code> part of the class plus a new one on the LA county boundaries. Let’s read them in individually and note the output in the console, especially the <code>geometry type</code>.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="mapping-in-r.html#cb66-1"></a><span class="co">#geometry type:  MULTILINESTRING</span></span>
<span id="cb66-2"><a href="mapping-in-r.html#cb66-2"></a>la_county &lt;-<span class="st"> </span><span class="kw">st_read</span>(<span class="dt">dsn =</span><span class="st">&quot;data/DRP_COUNTY_BOUNDARY/DRP_COUNTY_BOUNDARY.shp&quot;</span>)</span></code></pre></div>
<pre><code>## Reading layer `DRP_COUNTY_BOUNDARY&#39; from data source `/Users/timdennis/instruction/afam188/afam188-r/data/DRP_COUNTY_BOUNDARY/DRP_COUNTY_BOUNDARY.shp&#39; using driver `ESRI Shapefile&#39;
## Simple feature collection with 2 features and 2 fields
## geometry type:  MULTILINESTRING
## dimension:      XY
## bbox:           xmin: 6280000 ymin: 1380000 xmax: 6670000 ymax: 2120000
## epsg (SRID):    2229
## proj4string:    +proj=lcc +lat_1=35.46666666666667 +lat_2=34.03333333333333 +lat_0=33.5 +lon_0=-118 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=us-ft +no_defs</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="mapping-in-r.html#cb68-1"></a>la_zips_st &lt;-<span class="st"> </span><span class="kw">st_read</span>(<span class="dt">dsn =</span> <span class="st">&#39;data/CAMS_ZIPCODE_STREET_SPECIFIC/CAMS_ZIPCODE_STREET_SPECIFIC.shp&#39;</span>)</span></code></pre></div>
<pre><code>## Reading layer `CAMS_ZIPCODE_STREET_SPECIFIC&#39; from data source `/Users/timdennis/instruction/afam188/afam188-r/data/CAMS_ZIPCODE_STREET_SPECIFIC/CAMS_ZIPCODE_STREET_SPECIFIC.shp&#39; using driver `ESRI Shapefile&#39;
## Simple feature collection with 358 features and 10 fields
## geometry type:  POLYGON
## dimension:      XY
## bbox:           xmin: 6280000 ymin: 1380000 xmax: 6670000 ymax: 2120000
## epsg (SRID):    2229
## proj4string:    +proj=lcc +lat_1=35.46666666666667 +lat_2=34.03333333333333 +lat_0=33.5 +lon_0=-118 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=us-ft +no_defs</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="mapping-in-r.html#cb70-1"></a><span class="co">#geometry type:  MULTIPOLYGON</span></span>
<span id="cb70-2"><a href="mapping-in-r.html#cb70-2"></a>la_zips &lt;-<span class="st"> </span><span class="kw">st_read</span>(<span class="dt">dsn =</span> <span class="st">&quot;data/Los_Angeles_City_Zip_Codes/Los_Angeles_City_Zip_Codes.shp&quot;</span>)</span></code></pre></div>
<pre><code>## Reading layer `Los_Angeles_City_Zip_Codes&#39; from data source `/Users/timdennis/instruction/afam188/afam188-r/data/Los_Angeles_City_Zip_Codes/Los_Angeles_City_Zip_Codes.shp&#39; using driver `ESRI Shapefile&#39;
## Simple feature collection with 157 features and 7 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: -119 ymin: 33.7 xmax: -118 ymax: 34.3
## epsg (SRID):    4326
## proj4string:    +proj=longlat +datum=WGS84 +no_defs</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="mapping-in-r.html#cb72-1"></a><span class="co">#geometry type:  MULTILINESTRING</span></span>
<span id="cb72-2"><a href="mapping-in-r.html#cb72-2"></a>la_freeways &lt;-<span class="st"> </span><span class="kw">st_read</span>(<span class="dt">dsn =</span><span class="st">&quot;data/CAMS_FREEWAY_SHIELDS/CAMS_FREEWAY_SHIELDS.shp&quot;</span>)</span></code></pre></div>
<pre><code>## Reading layer `CAMS_FREEWAY_SHIELDS&#39; from data source `/Users/timdennis/instruction/afam188/afam188-r/data/CAMS_FREEWAY_SHIELDS/CAMS_FREEWAY_SHIELDS.shp&#39; using driver `ESRI Shapefile&#39;
## Simple feature collection with 45 features and 4 fields
## geometry type:  MULTILINESTRING
## dimension:      XY
## bbox:           xmin: 6280000 ymin: 1720000 xmax: 6670000 ymax: 2120000
## epsg (SRID):    2229
## proj4string:    +proj=lcc +lat_1=35.46666666666667 +lat_2=34.03333333333333 +lat_0=33.5 +lon_0=-118 +x_0=2000000.0001016 +y_0=500000.0001016001 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=us-ft +no_defs</code></pre>
<p>Now let’s use the layers. The important thing is we match our shapefile with the geometry type. <code>tm_polygons()</code> &amp; <code>tm_borders</code> goes with <code>#geometry type:  MULTIPOLYGON</code> and <code>tm_line()</code> goes with <code>#geometry type:  MULTILINESTRING</code>. Let’s use this new knowledge to make the map better.</p>
<pre><code>## tmap mode set to plotting</code></pre>
<p>We are going to build this up, let’s start with our points like above.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="mapping-in-r.html#cb75-1"></a><span class="kw">tm_shape</span>(arrests_sf) <span class="op">+</span></span>
<span id="cb75-2"><a href="mapping-in-r.html#cb75-2"></a><span class="st">  </span><span class="kw">tm_dots</span>() </span></code></pre></div>
<p><img src="afam-188r_files/figure-html/arrests-dots-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Now, if the <code>tmap</code> function that made our arrests data points on the plot is <code>tm_dots()</code>, what do you think the function is for making the zipcode boundaries. What shape are they?</p>
<p><code>tmap</code> gives a number of functions that lets us determine how we want to map objects. You start with <code>tm_shape</code> and that’s the function that takes in the data you want to map. Then you tell <code>tmap</code> how to map it via functions like <code>tm_fill</code>, <code>tm_polygons</code>, <code>tm_borders</code>, <code>tm_lines</code>, <code>tm_dots</code> &amp; <code>tm_bubbles</code>. There are many more. Which one you use is dependent on what types of shapes you want to create.</p>
<p>Let’s use our zipcode shapes.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="mapping-in-r.html#cb76-1"></a><span class="kw">tm_shape</span>(la_zips) <span class="op">+</span></span>
<span id="cb76-2"><a href="mapping-in-r.html#cb76-2"></a><span class="st">  </span><span class="kw">tm_fill</span>()</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/fill-funtion-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Note the output indicates the shape is invalid. This can be for various reasons, but an easy remedy is use the <code>st_make_valid()</code> in the lwgeom package. Run the below code. Paste in the etherpad.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="mapping-in-r.html#cb77-1"></a>la_zips &lt;-<span class="st"> </span>lwgeom<span class="op">::</span><span class="kw">st_make_valid</span>(la_zips)</span></code></pre></div>
<p><code>tm_fill</code> fills our polygons in zipcodes. Let’s see what happens if we use <code>tm_polygons</code> instead and add our arrests data as <code>tm_dots</code>. Note, we use the plus sign to add layers.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="mapping-in-r.html#cb78-1"></a><span class="kw">tm_shape</span>(arrests_sf) <span class="op">+</span></span>
<span id="cb78-2"><a href="mapping-in-r.html#cb78-2"></a><span class="st">  </span><span class="kw">tm_dots</span>() <span class="op">+</span></span>
<span id="cb78-3"><a href="mapping-in-r.html#cb78-3"></a><span class="kw">tm_shape</span>(la_zips) <span class="op">+</span></span>
<span id="cb78-4"><a href="mapping-in-r.html#cb78-4"></a><span class="st">  </span><span class="kw">tm_polygons</span>()</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/arrests-la-zips-poly-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Where are our points? Why don’t they show? What do you think?</p>
<p>Yes, they are hidden underneath our zipcodes! WE can reorder the code and they’ll appear, but we can also add transparency to our <code>tm_polygons</code> function. Does anyone remember what we called this in QGIS?</p>
<p>Right, <code>alpha</code> is the term for adding transparency in plotting and graphing across many software tools, <code>tmap</code> is no diff. Let’s add a transparency.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="mapping-in-r.html#cb79-1"></a><span class="kw">tm_shape</span>(arrests_sf) <span class="op">+</span></span>
<span id="cb79-2"><a href="mapping-in-r.html#cb79-2"></a><span class="st">  </span><span class="kw">tm_dots</span>() <span class="op">+</span></span>
<span id="cb79-3"><a href="mapping-in-r.html#cb79-3"></a><span class="kw">tm_shape</span>(la_zips_st) <span class="op">+</span></span>
<span id="cb79-4"><a href="mapping-in-r.html#cb79-4"></a><span class="st">  </span><span class="kw">tm_polygons</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="co">#a value from 0 to 1</span></span></code></pre></div>
<p><img src="afam-188r_files/figure-html/arrests-la-zips-poly-alpha-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Ok, now I want you to add another layer. Add either <code>la_county</code> boundary (a polygon) or <code>la_freeways</code> to the graph. Take 5min.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="mapping-in-r.html#cb80-1"></a><span class="kw">tm_shape</span>(la_zips) <span class="op">+</span></span>
<span id="cb80-2"><a href="mapping-in-r.html#cb80-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>() <span class="op">+</span></span>
<span id="cb80-3"><a href="mapping-in-r.html#cb80-3"></a><span class="kw">tm_shape</span>(la_freeways) <span class="op">+</span></span>
<span id="cb80-4"><a href="mapping-in-r.html#cb80-4"></a><span class="st">  </span><span class="kw">tm_lines</span>() <span class="op">+</span></span>
<span id="cb80-5"><a href="mapping-in-r.html#cb80-5"></a><span class="kw">tm_shape</span>(arrests_sf) <span class="op">+</span></span>
<span id="cb80-6"><a href="mapping-in-r.html#cb80-6"></a><span class="st">  </span><span class="kw">tm_dots</span>() </span></code></pre></div>
<p><img src="afam-188r_files/figure-html/la-zips-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Ok, what we’ve done so far.</p>
<ol style="list-style-type: decimal">
<li>We’ve taken a dataset that has latitude and longitude data in it and converted it to a simple feature object in R.</li>
<li>We’ve read in shapefiles into R as simple feature objects that become mappable.</li>
<li>We’ve layered them on a plot using <code>tmap</code> and even added some transparency to our polygon layer.</li>
</ol>
<p>Good job!</p>
</div>
<div id="aesthetics" class="section level2">
<h2><span class="header-section-number">4.5</span> Aesthetics</h2>
<p>So far, we’ve accepted <code>tmap</code>’s default aesthetic settings, like the grey color fill for <code>tm_polygons</code>. However, we can alter this with arguments in our <code>tm_</code> function.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="mapping-in-r.html#cb81-1"></a><span class="kw">tm_shape</span>(la_zips) <span class="op">+</span></span>
<span id="cb81-2"><a href="mapping-in-r.html#cb81-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>(<span class="dt">col=</span><span class="st">&#39;blue&#39;</span>)</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/color-polygon-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Let’s add an alpha:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="mapping-in-r.html#cb82-1"></a><span class="kw">tm_shape</span>(la_zips) <span class="op">+</span></span>
<span id="cb82-2"><a href="mapping-in-r.html#cb82-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>(<span class="dt">col=</span><span class="st">&#39;blue&#39;</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb82-3"><a href="mapping-in-r.html#cb82-3"></a><span class="kw">tm_shape</span>(arrests_sf) <span class="op">+</span></span>
<span id="cb82-4"><a href="mapping-in-r.html#cb82-4"></a><span class="st">  </span><span class="kw">tm_bubbles</span>(<span class="dt">size =</span> <span class="fl">0.09</span>, <span class="dt">col=</span><span class="st">&quot;gold&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.4</span>)</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/color-polygon-alpha-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Instead of <code>tm_polygons</code> there’s another function that matches our shapes better. It’s <code>tm_borders</code>. Let’s swap it out for <code>tm_polygons</code>:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="mapping-in-r.html#cb83-1"></a><span class="kw">tm_shape</span>(la_zips) <span class="op">+</span></span>
<span id="cb83-2"><a href="mapping-in-r.html#cb83-2"></a><span class="st">  </span><span class="kw">tm_fill</span>(<span class="dt">col=</span><span class="st">&#39;blue&#39;</span>, <span class="dt">title=</span><span class="st">&quot;LA Zipcodes&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb83-3"><a href="mapping-in-r.html#cb83-3"></a><span class="st">    </span><span class="kw">tm_borders</span>()  <span class="op">+</span></span>
<span id="cb83-4"><a href="mapping-in-r.html#cb83-4"></a><span class="kw">tm_shape</span>(arrests_sf) <span class="op">+</span></span>
<span id="cb83-5"><a href="mapping-in-r.html#cb83-5"></a><span class="st">  </span><span class="kw">tm_dots</span>() <span class="op">+</span></span>
<span id="cb83-6"><a href="mapping-in-r.html#cb83-6"></a><span class="st">  </span><span class="kw">tm_compass</span>(<span class="dt">type =</span> <span class="st">&quot;4star&quot;</span>, <span class="dt">position =</span> <span class="kw">c</span>(<span class="st">&quot;left&quot;</span>, <span class="st">&quot;top&quot;</span>), <span class="dt">size =</span> <span class="dv">2</span>) </span></code></pre></div>
<p><img src="afam-188r_files/figure-html/tm-borders-color-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
</div>
<div id="saving-map-objects" class="section level2">
<h2><span class="header-section-number">4.6</span> Saving map objects</h2>
<p>We can also save a <code>tmap</code> as an object in R and reuse it or build on it. For instance:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="mapping-in-r.html#cb84-1"></a>lazips &lt;-<span class="st"> </span><span class="kw">tm_shape</span>(la_zips) <span class="op">+</span></span>
<span id="cb84-2"><a href="mapping-in-r.html#cb84-2"></a><span class="st">  </span><span class="kw">tm_borders</span>()</span></code></pre></div>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="mapping-in-r.html#cb85-1"></a>lazips</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/runlazips-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>We can now build off of <code>lazips</code> and then use different versions of the map.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="mapping-in-r.html#cb86-1"></a>lazips &lt;-<span class="st"> </span><span class="kw">tm_shape</span>(la_zips) </span>
<span id="cb86-2"><a href="mapping-in-r.html#cb86-2"></a>lzip1 &lt;-<span class="st"> </span>lazips <span class="op">+</span><span class="st"> </span><span class="kw">tm_fill</span>(<span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</span>
<span id="cb86-3"><a href="mapping-in-r.html#cb86-3"></a>lzip2 &lt;-<span class="st"> </span>lazips <span class="op">+</span><span class="st"> </span><span class="kw">tm_fill</span>(<span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span>)</span>
<span id="cb86-4"><a href="mapping-in-r.html#cb86-4"></a>lzip3 &lt;-<span class="st"> </span>lazips <span class="op">+</span><span class="st"> </span><span class="kw">tm_borders</span>(<span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb86-5"><a href="mapping-in-r.html#cb86-5"></a>lzip4 &lt;-<span class="st"> </span>lazips <span class="op">+</span><span class="st"> </span><span class="kw">tm_borders</span>(<span class="dt">lwd =</span> <span class="dv">3</span>)</span></code></pre></div>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="mapping-in-r.html#cb87-1"></a>lzip1</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/print-out-map-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="mapping-in-r.html#cb88-1"></a>lzip2</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/print-out-map-2.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="mapping-in-r.html#cb89-1"></a>lzip3</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/print-out-map-3.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="mapping-in-r.html#cb90-1"></a><span class="kw">tmap_arrange</span>(lzip1, lzip2, lzip3, lzip3)</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/arrange-maps-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p><code>tmap</code> is very flexible and granular. We can control all aspects of the map and as we move along we can show more</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="mapping-in-r.html#cb91-1"></a>lzip1 <span class="op">+</span><span class="st"> </span><span class="kw">tm_layout</span>(<span class="dt">title=</span><span class="st">&quot;LA Zipcodes&quot;</span>)</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/layout-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="mapping-in-r.html#cb92-1"></a>lzip3 <span class="op">+</span><span class="st"> </span><span class="kw">tm_style</span>(<span class="st">&quot;cobalt&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">tm_layout</span>(<span class="dt">title=</span><span class="st">&quot;LA Zips&quot;</span>, <span class="dt">title.color =</span> <span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<p><img src="afam-188r_files/figure-html/la-zip-style-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="mapping-in-r.html#cb93-1"></a><span class="co">#tm_style(&quot;classic&quot;)</span></span>
<span id="cb93-2"><a href="mapping-in-r.html#cb93-2"></a><span class="co">#tm_style(&quot;bw&quot;)</span></span>
<span id="cb93-3"><a href="mapping-in-r.html#cb93-3"></a><span class="co">#tm_style(&quot;col_blind&quot;)</span></span>
<span id="cb93-4"><a href="mapping-in-r.html#cb93-4"></a><span class="co">#look at ?tm_layout for more</span></span></code></pre></div>
</div>
<div id="interactive-maps" class="section level2">
<h2><span class="header-section-number">4.7</span> Interactive Maps</h2>
<p>So far, we’ve been using <code>tmap</code> to produce a static map, but <code>tmap</code> lets us create interactive maps by switching it’s mode to `view’. We can do this using a single line.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="mapping-in-r.html#cb94-1"></a><span class="kw">tmap_mode</span>(<span class="st">&quot;view&quot;</span>)</span></code></pre></div>
<pre><code>## tmap mode set to interactive viewing</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="mapping-in-r.html#cb96-1"></a>tm &lt;-<span class="st"> </span><span class="kw">tm_shape</span>(la_zips) <span class="op">+</span></span>
<span id="cb96-2"><a href="mapping-in-r.html#cb96-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>() <span class="op">+</span></span>
<span id="cb96-3"><a href="mapping-in-r.html#cb96-3"></a><span class="kw">tm_shape</span>(la_freeways) <span class="op">+</span></span>
<span id="cb96-4"><a href="mapping-in-r.html#cb96-4"></a><span class="st">  </span><span class="kw">tm_lines</span>() <span class="op">+</span></span>
<span id="cb96-5"><a href="mapping-in-r.html#cb96-5"></a><span class="kw">tm_shape</span>(arrests_sf) <span class="op">+</span></span>
<span id="cb96-6"><a href="mapping-in-r.html#cb96-6"></a><span class="st">  </span><span class="kw">tm_dots</span>() </span>
<span id="cb96-7"><a href="mapping-in-r.html#cb96-7"></a><span class="kw">tmap_save</span>(tm, <span class="dt">filename =</span> <span class="st">&quot;world_map.html&quot;</span>)</span></code></pre></div>
<pre><code>## Interactive map saved to /Users/timdennis/instruction/afam188/afam188-r/world_map.html</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-assignment-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="mapping-with-r-continued.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-mapping-r.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["afam-188r.pdf", "afam-188r.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
